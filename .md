# exportPDF system error -86 해결 방법

## 오류 원인

macOS에서 `exportPDF system error -86`은 일반적으로 다음 원인으로 발생합니다:
- **Invalid Argument**: 잘못된 인자나 경로
- **권한 문제**: 파일 쓰기 권한 부족
- **경로 문제**: 특수문자, 한글, 공백이 포함된 경로
- **파일 이름 문제**: 너무 긴 파일명 또는 잘못된 문자

## 해결 방법

### 방법 1: 파일 경로 및 이름 확인 (가장 흔한 원인)

#### 문제가 되는 경로/이름:
- 한글이 포함된 경로
- 공백이 많은 파일명
- 특수문자 (`@`, `#`, `$` 등)
- 너무 긴 파일명

#### 해결:
```bash
# 현재 파일 확인
cd /Users/kronenz/Documents/develop/tech-blog
ls -la PROPOSAL*

# 파일명을 간단하게 변경 (선택사항)
# 예: PROPOSAL.html → proposal.html
```

### 방법 2: 출력 디렉토리 권한 확인

```bash
# 현재 디렉토리 권한 확인
ls -ld /Users/kronenz/Documents/develop/tech-blog

# 쓰기 권한이 있는지 확인
# 권한이 없다면:
chmod u+w /Users/kronenz/Documents/develop/tech-blog
```

### 방법 3: 브라우저에서 PDF 내보내기 (권장)

#### Chrome/Edge 사용:
1. `PROPOSAL.html` 파일을 브라우저에서 열기
2. `Cmd + P` (인쇄) 누르기
3. 대상: "PDF로 저장" 선택
4. 저장 위치: **Desktop** 또는 **Documents** (간단한 경로)
5. 파일명: 영문으로만 (예: `proposal.pdf`)

#### Safari 사용:
1. `PROPOSAL.html` 파일을 Safari에서 열기
2. `Cmd + P` 누르기
3. 하단 "PDF" 버튼 클릭 → "PDF로 저장"
4. Desktop에 저장 (간단한 경로)

### 방법 4: 명령줄로 PDF 변환 (가장 안정적)

#### wkhtmltopdf 사용:
```bash
# 설치 (Homebrew 필요)
brew install wkhtmltopdf

# PDF 변환
wkhtmltopdf PROPOSAL.html PROPOSAL.pdf
```

#### Puppeteer 사용 (Node.js):
```bash
# npm 패키지 설치
npm install -g puppeteer

# 또는 로컬 설치
npm install puppeteer

# 변환 스크립트 생성
cat > convert-to-pdf.js << 'EOF'
const puppeteer = require('puppeteer');
const path = require('path');

(async () => {
  const browser = await puppeteer.launch();
  const page = await browser.newPage();
  const htmlPath = path.join(__dirname, 'PROPOSAL.html');
  await page.goto(`file://${htmlPath}`, { waitUntil: 'networkidle0' });
  await page.pdf({ 
    path: 'PROPOSAL.pdf',
    format: 'A4',
    printBackground: true
  });
  await browser.close();
  console.log('PDF 생성 완료!');
})();
EOF

# 실행
node convert-to-pdf.js
```

#### Python 사용:
```bash
# weasyprint 설치
pip install weasyprint

# 변환
python3 << 'EOF'
from weasyprint import HTML
HTML('PROPOSAL.html').write_pdf('PROPOSAL.pdf')
print('PDF 생성 완료!')
EOF
```

### 방법 5: Cursor/VS Code 확장 프로그램 사용

1. **Markdown PDF** 확장 프로그램 설치
2. `PROPOSAL.md` 파일 열기
3. `Cmd + Shift + P` → "Markdown PDF: Export (pdf)" 선택
4. 간단한 경로에 저장

### 방법 6: 온라인 변환 도구 사용

1. [HTML to PDF](https://www.ilovepdf.com/html-to-pdf) 같은 온라인 도구 사용
2. `PROPOSAL.html` 파일 업로드
3. PDF 다운로드

## 즉시 해결 방법 (빠른 해결)

### 단계별 해결:

1. **간단한 경로로 파일 복사**
   ```bash
   # Desktop에 복사
   cp PROPOSAL.html ~/Desktop/proposal.html
   ```

2. **브라우저에서 열기**
   ```bash
   # Chrome으로 열기
   open -a "Google Chrome" ~/Desktop/proposal.html
   
   # 또는 Safari로 열기
   open -a Safari ~/Desktop/proposal.html
   ```

3. **PDF로 저장**
   - `Cmd + P` → "PDF로 저장"
   - 파일명: `proposal.pdf` (영문만)
   - 저장 위치: Desktop

## macOS 시스템 오류 -86 상세 정보

Error -86은 macOS에서 `invalid argument`를 의미합니다. PDF 내보내기 시:
- 파일 경로가 너무 길거나
- 특수문자가 포함되거나
- 권한이 없을 때 발생

## 권장 해결 순서

1. ✅ **브라우저에서 직접 PDF 저장** (가장 쉬움)
2. ✅ **파일을 Desktop으로 복사 후 변환**
3. ✅ **명령줄 도구 사용** (wkhtmltopdf, Puppeteer)
4. ✅ **온라인 변환 도구 사용**

## 추가 문제 해결

### 권한 문제인 경우:
```bash
# 디렉토리 권한 확인
ls -ld ~/Documents/develop/tech-blog

# 쓰기 권한 부여
chmod 755 ~/Documents/develop/tech-blog

# 또는 상위 디렉토리 권한 확인
ls -ld ~/Documents/develop
```

### 파일이 잠겨있는 경우:
```bash
# 파일 잠금 해제
chflags nouchg PROPOSAL.html

# 또는 전체 디렉토리
chflags -R nouchg /Users/kronenz/Documents/develop/tech-blog
```

### 디스크 공간 확인:
```bash
# 디스크 공간 확인
df -h ~/Documents
```

## 예방 방법

1. **파일명 규칙 준수**
   - 영문, 숫자, 하이픈(-), 언더스코어(_)만 사용
   - 공백 대신 하이픈 사용
   - 파일명 길이 제한 (50자 이내)

2. **경로 단순화**
   - 한글 경로 피하기
   - 깊은 디렉토리 구조 피하기
   - Desktop이나 Documents 루트 사용

3. **권한 관리**
   - 쓰기 권한 확인
   - 관리자 권한 필요 시 `sudo` 사용

## 참고 자료

- [macOS Error Codes](https://developer.apple.com/documentation/iokit/1514687-an-error-code)
- [HTML to PDF 변환 도구](https://www.ilovepdf.com/html-to-pdf)


